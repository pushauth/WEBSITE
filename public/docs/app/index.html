<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!--> <html lang="en"> <!--<![endif]-->
<head>
    <title>PushAuth API</title>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="favicon.ico">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <!-- Global CSS -->
    <link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css">
    <!-- Plugins CSS -->
    <link rel="stylesheet" href="assets/plugins/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" href="assets/plugins/prism/prism.css">
    <link rel="stylesheet" href="assets/plugins/elegant_font/css/style.css">

    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="assets/css/styles.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body class="body-green">
<div class="page-wrapper">
    <!-- ******Header****** -->
    <header id="header" class="header">
        <div class="container">
            <div class="branding">
                <h1 class="logo">
                    <a href="#">
                        <span aria-hidden="true" class="icon_documents_alt icon"></span>
                        <span class="text-highlight">PushAuth</span><span class="text-bold">API</span>
                    </a>
                </h1>
            </div><!--//branding-->
            <ol class="breadcrumb">
                <li><a href="#">Documentation</a></li>
                <li class="active">AppAPI</li>
            </ol>
        </div><!--//container-->
    </header><!--//header-->
    <div class="doc-wrapper">
        <div class="container">
            <div id="doc-header" class="doc-header text-center">
                <h1 class="doc-title"><i class="icon fa fa-paper-plane"></i> Client Server App</h1>
                <div class="meta"><i class="fa fa-clock-o"></i> Last updated: 18.03.2017</div>
            </div><!--//doc-header-->
            <div class="doc-body">
                <div class="doc-content">
                    <div class="content-inner">

                        <section id="mobileapi-section" class="doc-section">
                            <h2 class="section-title">Server API</h2>
                            <div class="section-block">

                                В данном разделе описаны API для работы Вашего сервиса с сервером PushAuth.



                            </div>

                            <div id="auth-section"  class="section-block">
                                <h2 class="block-title">Отправка PUSH-запроса на авторизацию клиента</h2>
                                <div class="section-block">

                                    Данный запрос позволяет отправить push-запрос, средствами PushAuth, Вашему клиенту, зная его <span class="label label-success">email-адрес</span>, на мобильное устройство и получить ответ.
                                    У Вашего клиента должно быть приложение PushAuth на устройстве, авторизированное под одноимённым <span class="label label-success">email</span>



                                </div>

                                <h4 id="auth-send-section" class="block-title">Request</h4>
                                <div class="row">
                                    <div class="col-md-1">
                                        <h6>Method:</h6>
                                        <p><code>POST</code></p>
                                    </div>
                                    <div class="col-md-11">
                                        <h6>API Endpoint:</h6>
                                        <p><code>https://api.pushauth.zenlix.com/push/send</code></p>
                                    </div>

                                </div>


                                <div class="row">
                                    <div class="col-md-6">
                                        <h6>Content-Type:</h6>
                                        <p><code>application/json</code></p>
                                        <div class="code-block">
                                            <h6>Body request example</h6>
                                            <pre><code class="language-json">{
"pk":"56a24f5f9ee389dd88e4e071ce7fe67a",
"data":"YlRyencwNUU0b2NvTXFPUTl5alhheXlpZnhoTVNqZFhSVWJYd29OakpvYmFkaj.ZTYjdTejdOR2Vicnp4dDN2WC51MoZQEoQAwnbw2RGb6Dvq"
}</code></pre>
                                        </div><!--//code-block-->
                                        <div class="code-block">
                                            <h6><span class="label label-success">data</span> decoded json example</h6>
                                            <pre><code class="language-json">{
"address_to":"client@yoursite.com",
"mode":"push",
"code":"123-456",
"flash_response":false
}</code></pre>
                                        </div><!--//code-block-->
                                        <div class="col-md-12">
                                            <div class="callout-block callout-info">
                                                <div class="icon-holder">
                                                    <i class="fa fa-info"></i>
                                                </div><!--//icon-holder-->
                                                <div class="content">

                                                    <p>Если Вы используете параметр <code class="language-json" style="font-size: 10px">"flash_response":"false"</code>, учтите что ответ от сервера Вы получите, только если клиент ответил на запрос авторизации. В ином случае если ответ от клиента не прийдёт в течении 30 секунд, Вы получите ответ с кодом, по которому в дальнейшем можно будет отслеживать статус ответа.</p>
                                                </div><!--//content-->
                                            </div>
                                            <div class="callout-block callout-info">
                                                <div class="icon-holder">
                                                    <i class="fa fa-info"></i>
                                                </div><!--//icon-holder-->
                                                <div class="content">

                                                    <p>Если Вы используете параметр <code class="language-json" style="font-size: 10px">"mode":"code"</code>, параметр <code class="language-json" style="font-size: 10px">"flash_response":"false"</code> игнорируется.</p>
                                                </div><!--//content-->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">


                                        <div class="table-responsive">
                                            <table class="table">
                                                <thead>
                                                <tr>
                                                    <th>Type</th>
                                                    <th>Param</th>
                                                    <th>Description</th>

                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr>
                                                    <td><span class="label label-default">string</span></td>
                                                    <th>pk</th>
                                                    <td>Ваш личный уникальный Приватный ключ, который можно получить в Личном кабинете на сайте https://dashboard.pushauth.io</td>

                                                </tr>
                                                <tr>
                                                    <td><span class="label label-default">string</span></td>
                                                    <th>data</th>
                                                    <td>JSON-закодированные данные, имеющие дополнительные параметры. Алгоритм кодирования, смотрите ниже</td>

                                                </tr>
                                                <tr>
                                                    <td><span class="label label-default">string</span></td>
                                                    <th>address_to</th>
                                                    <td>E-mail адрес Вашего клиента, с которого он авторизирован на его мобильном устройстве. На него будет отправлен push</td>

                                                </tr>
                                                <tr>
                                                    <td><span class="label label-default">string</span></td>
                                                    <th>mode</th>
                                                    <td>Режим отправки запроса авторизации. Может принимать значения: <span class="label label-success">push</span> - для отправки запроса авторизации (вопросительный push) или <span class="label label-success">code</span> - для отправки кода или текста.</td>

                                                </tr>

                                                <tr>
                                                    <td><span class="label label-default">string(8)</span></td>
                                                    <th>code</th>
                                                    <td>Код/текст/набор символов длинной в 8, который отобразится на устройстве Вашего клиента, если выбран режиме <span class="label label-success">mode</span> = <span class="label label-success">code</span></td>

                                                </tr>
                                                <tr>
                                                    <td><span class="label label-default">boolean</span></td>
                                                    <th>flash_response</th>
                                                    <td>Режим ожидания ответа от клиента. Если <span class="label label-success">true</span> - то вы сразу, после отправки push-запроса получите ответ с кодом, по которому в дальнейшем можно проверять статус ответа от Вашего клиента (его устройства). Если <span class="label label-success">false</span> - то после отправки push-запроса, сервер будет ждать ответ от Вашего клиента (его устройства) в течении 30 секунд. Если ответ не будет получен, в течении этого времени - Вы получите ответ от сервера </td>

                                                </tr>

                                                </tbody>
                                            </table>
                                        </div>



                                    </div>

                                </div>
                                <div class="col-md-12">
                                    <h3  class="block-title">Алгоритм кодирования строки</h3>
                                    <div id="auth-encode-section" class="section-block">

                                        После успешной регистрации приложения в dashboard, нам доступен приватный ключ. Мы будем использовать его для подписи данных с помощью HMAC(SHA-256)

                                        <h4>Очерёдность действий</h4>
                                        <ol class="list">
                                            <li>
                                                Кодированная строка состоит из двух символьных значений, которые соеденены знаком точкой. (Напр: dataInBase64.hmacInBase64).
                                            </li>
                                            <li>
                                                Что бы получить первую часть, закодируем наши данные json в base64.
                                            </li>

                                            <li>
                                                Для генерации второй части, создадим HMAC, используя значение из первой части, наш приватный ключ и алгоритм sha256. Напр hash_hmac('sha256', data, private_key). Полученные данные закодируем в base64.
                                            </li>

                                            <li>
                                                В итоге две строки соединяем знаком точка.
                                            </li>







                                        </ol>



                                    </div>


                                </div>

                                <div class="row">
                                <div class="col-md-12">
                                    <h5  class="block-title">Пример кода</h5>


                                    <div>

                                        <!-- Nav tabs -->
                                        <ul class="nav nav-tabs" role="tablist">
                                            <li role="presentation" class="active"><a href="#home" aria-controls="home" role="tab" data-toggle="tab">PHP</a></li>
                                            <li role="presentation"><a href="#profile" aria-controls="profile" role="tab" data-toggle="tab">BASH</a></li>
                                            <li role="presentation"><a href="#messages" aria-controls="messages" role="tab" data-toggle="tab">C++</a></li>
                                            <li role="presentation"><a href="#settings" aria-controls="settings" role="tab" data-toggle="tab">Java</a></li>
                                        </ul>

                                        <!-- Tab panes -->
                                        <div class="tab-content">
                                            <div role="tabpanel" class="tab-pane active" id="home">


                                                <pre><code class="language-php">//Setting data params
$data = json_encode(['address_to'     => 'client@mysite.com',
                     'mode'           => 'push',
                     'code'           => '123-456',
                     'flash_response' => true]);
//Encode data

$encodedData = base64_encode($data);
$signature = base64_encode(hash_hmac('sha256',$encodedData,'myPrivateKey',true));
//Prepare request json
$requestArray = json_encode(['pk'   => 'myPublicKey',
                 'data' => $encodedData.'.'.$signature]);

$ch = curl_init('https://api.pushauth.io/push/send');
curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "POST");
curl_setopt($ch, CURLOPT_HTTPHEADER, ['Content-Type:application/json']);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
curl_setopt($ch, CURLOPT_POSTFIELDS, $requestArray);
curl_setopt($ch, CURLOPT_TIMEOUT, 100000);
$result = curl_exec($ch);

if (curl_errno($ch)) {
   throw new \Exception(curl_error($ch));
}
curl_close($ch);  // Seems like good practice
print_r($result);
/*
[
"message" =>"Success push created!",
"data"    =>"YlRyencwNUU0b2NvTXFPUTl5alhheXlpZnhoTVNqZFhSVWJYd29OakpvYmFkajZTYj.dTejdOR2Vicnp4dDN2WC51MoZQEoQAwnbw2RGb6Dvq"
]
*/

</code></pre>


                                            </div>
                                            <div role="tabpanel" class="tab-pane" id="profile">

<pre><code class="language-bash">#!/bin/bash

#Private Key
pass='BCTmUYdzOERpNjGIMoxGKQk0IRAArLnJ'

#Public Key
ppass='BCTmUYdzOERpNjGIMoxGKQk0IRAArLnJ'


encstring=$(echo -ne "{\"address_to\":\"client@yoursite.com\",\"mode\":\"push\",\"code\":\"123-456\",\"flash_response\":true}" | base64)


hmac=$(echo "$encstring" | openssl dgst -sha256 -hex -hmac "$ppass")
enchmac=$(echo -ne "$hmac" | base64)
prestr=${encstring}.${enchmac}

curl -v -g -H "Content-Type: application/json" -X POST --data "{\"pk\":\"${ppass}\",\"data\":\"${prestr}\"}" "http://localhost/api/push/send"


</code>
    </pre>




                                            </div>
                                            <div role="tabpanel" class="tab-pane" id="messages">...</div>
                                            <div role="tabpanel" class="tab-pane" id="settings">...</div>
                                        </div>

                                    </div>


                                </div>
                                    </div>












                                <hr>
                                <h4  class="block-title">Response</h4>
                                <div id="auth-recieve-section" class="section-block">

                                    Ответ от сервера будет с кодом 200, если отправка push прошла успешно, в ином случае - смотрите коды ошибок.




                                <div class="row">
                                    <div class="col-md-6">

                                        <h5 class="block-title">Ответ</h5>

                                        <div class="col-md-6"><h6>Content-Type:</h6>
                                            <p><code>application/json</code></p></div>
                                        <div class="col-md-6"><h6>Response Code:</h6>
                                            <p><code>200 OK</code></p></div>




                                        <div class="code-block">
                                            <h6>Body response example</h6>

                                            <pre><code class="language-json">{
"message":"Success push created!",
"data":"YlRyencwNUU0b2NvTXFPUTl5alhheXlpZnhoTVNqZFhSVWJYd29OakpvYm.FkajZTYjdTejdOR2Vicnp4dDN2WC51MoZQEoQAwnbw2RGb6Dvq"
}</code></pre>



                                        </div><!--//code-block-->
                                        <div class="code-block">
                                            <h6><span class="label label-success">data</span> decoded json example</h6>
                                            <pre><code class="language-json">{
"req_hash":"someUniqCodeHash",
"answer":true
}</code></pre>
                                        </div><!--//code-block-->

                                    </div>
                                    <div class="col-md-6">


                                        <div class="table-responsive">
                                            <table class="table">
                                                <thead>
                                                <tr>
                                                    <th>Type</th>
                                                    <th>Param</th>
                                                    <th>Description</th>

                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr>
                                                    <td><span class="label label-default">string</span></td>
                                                    <th>message</th>
                                                    <td>Текст, в котором содержится объяснение результата запроса</td>

                                                </tr>
                                                <tr>
                                                    <td><span class="label label-default">string</span></td>
                                                    <th>data</th>
                                                    <td>JSON-закодированные данные, имеющие дополнительные параметры. Алгоритм раскодирования, смотрите ниже</td>

                                                </tr>
                                                <tr>
                                                    <td><span class="label label-default">string</span></td>
                                                    <th>req_hash</th>
                                                    <td>Уникальный ключ запроса авторизации, по которому Вы сможете проверить статус запроса авторизации</td>

                                                </tr>
                                                <tr>
                                                    <td><span class="label label-default">boolean</span></td>
                                                    <th>answer</th>
                                                    <td>Ответ авторизации клиента. <span class="label label-success">true</span> - если подтвердить вход, <span class="label label-success">false</span> - если отменить вход</td>

                                                </tr>

                                                </tbody>
                                            </table>
                                        </div>



                                    </div>

                                    <div class="col-md-12">
                                        <h3 id="auth-decode-section" class="block-title">Алгоритм раскодирования строки</h3>
                                        <div class="section-block">

                                            Итак, нам доступен приватный ключ.

                                            <h4>Очерёдность действий</h4>
                                            <ol class="list">
                                                <li>Мы имеем закодированную строку <pre>YlRyencwNUU0b2NvTXFPUTl5alhheXlpZnhoTVNqZFhSVWJYd29OakpvYmFkajZTY.jdTejdOR2Vicnp4dDN2WC51MoZQEoQAwnbw2RGb6Dvq</pre> </li>

                                                <li>Разобъём строку, используя разделительный символ точку, на две строки. Первая её часть будет <strong>данными</strong>, а вторая - <strong>HMAC-подписью</strong>. В итоге получим,<br> данные: <pre>YlRyencwNUU0b2NvTXFPUTl5alhheXlpZnhoTVNqZFhSVWJYd29OakpvYmFkajZTY</pre>
                                                    и подпись: <pre>jdTejdOR2Vicnp4dDN2WC51MoZQEoQAwnbw2RGb6Dvq</pre></li>
                                                <li>Раскодируем методом base64 <strong>данные</strong>. Нам будет доступен json.</li>

                                                <li>
                                                    Что бы проверить достоверность данных, сгенерируем HMAC. Для этого используем данные, закодированные в base 64 (напр YlRyencwNUU0b2NvTXFPUTl5alhheXlpZnhoTVNqZFhSVWJYd29OakpvYmFkajZTY), алгоритм sha-256 и наш приватный ключ.
                                                    Результат закодируем в base64.
                                                </li>

                                                <li>
                                                    Теперь необходимо сравнить: наш сгенерированый HMAC и HMAC, полученный из ответа.
                                                    Если они совпадают, значит можно доверять ответу.



                                                </li>
                                            </ol>


                                        </div>
                                    </div>

                                    <div class="row">
                                    <div class="col-md-12">
                                        <h5  class="block-title">Пример кода</h5>


                                        <div>

                                            <!-- Nav tabs -->
                                            <ul class="nav nav-tabs" role="tablist">
                                                <li role="presentation" class="active"><a href="#home-res" aria-controls="home" role="tab" data-toggle="tab">PHP</a></li>
                                                <li role="presentation"><a href="#bash" aria-controls="bash" role="tab" data-toggle="tab">BASH</a></li>
                                                <li role="presentation"><a href="#cpp" aria-controls="cpp" role="tab" data-toggle="tab">C++</a></li>
                                                <li role="presentation"><a href="#java" aria-controls="java" role="tab" data-toggle="tab">Java</a></li>
                                            </ul>

                                            <!-- Tab panes -->
                                            <div class="tab-content">
                                                <div role="tabpanel" class="tab-pane active" id="home-res">


                                                <pre><code class="language-php">//You receive array
$response=["message" =>"Success push created!",
"data"    =>"YlRyencwNUU0b2NvTXFPUTl5alhheXlpZnhoTVNqZFhSVWJYd29OakpvYmFk.ajZTYjdTejdOR2Vicnp4dDN2WC51MoZQEoQAwnbw2RGb6Dvq"];

$data = $response['data']; //decode base64
$dataArray = explode('.', $data); //fetch data and IV from string
$clearData = $data[0];
$dataString = base64_decode($data[0]);
$serverSignature = $data[1];
$clientSignature = base64_encode(hash_hmac('sha256',$clearData,'ourPrivateKey', true));
if ($serverSignature != $clientSignature ) {
         throw new \Exception('Signature incorrect!');
}

$result = json_decode($dataString,true);
print_r($result);
/*
["req_hash"=>"someUniqCodeHash",
"answer"=>true]
*/
</code></pre>


                                                </div>
                                                <div role="tabpanel" class="tab-pane" id="bash">...</div>
                                                <div role="tabpanel" class="tab-pane" id="cpp">...</div>
                                                <div role="tabpanel" class="tab-pane" id="java">...</div>
                                            </div>

                                        </div>


                                    </div>
                                </div>


                                </div>

</div>

</section>




                            <div id="req-section"  class="section-block">
                                <h2 class="block-title">Запрос статуса авторизации</h2>
                                <div class="section-block">

                                    После успешной отправки push-запроса на авторизацию, Вы можете запрашивать статус запроса на авторизацию, используя полученный ранее ключ запроса на авторизацию.



                                </div>

                                <h4 id="req-send-section" class="block-title">Request</h4>
                                <div class="row">
                                    <div class="col-md-1">
                                        <h6>Method:</h6>
                                        <p><code>POST</code></p>
                                    </div>
                                    <div class="col-md-11">
                                        <h6>API Endpoint:</h6>
                                        <p><code>https://api.pushauth.zenlix.com/push/status</code></p>
                                    </div>

                                </div>


                                <div class="row">
                                    <div class="col-md-6">
                                        <h6>Content-Type:</h6>
                                        <p><code>application/json</code></p>
                                        <div class="code-block">
                                            <h6>Body request example</h6>
                                            <pre><code class="language-json">{
"pk":"56a24f5f9ee389dd88e4e071ce7fe67a",
"data":"YlRyencwNUU0b2NvTXFPUTl5alhheXlpZnhoTVNqZFhSVWJYd29Oak.pvYmFkajZTYjdTejdOR2Vicnp4dDN2WC51MoZQEoQAwnbw2RGb6Dvq"
}</code></pre>
                                        </div><!--//code-block-->

                                        <div class="code-block">
                                            <h6><span class="label label-success">data</span> decoded json example</h6>
                                            <pre><code class="language-json">{
"req_hash":"someUniqReqHash"
}</code></pre>
                                        </div><!--//code-block-->



                                    </div>
                                    <div class="col-md-6">


                                        <div class="table-responsive">
                                            <table class="table">
                                                <thead>
                                                <tr>
                                                    <th>Type</th>
                                                    <th>Param</th>
                                                    <th>Description</th>

                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr>
                                                    <td><span class="label label-default">string</span></td>
                                                    <th>pk</th>
                                                    <td>Ваш личный уникальный Приватный ключ, который можно получить в Личном кабинете на сайте https://dashboard.pushauth.io</td>

                                                </tr>
                                                <tr>
                                                    <td><span class="label label-default">string</span></td>
                                                    <th>data</th>
                                                    <td>JSON-закодированные данные, имеющие дополнительные параметры. Алгоритм кодирования, смотрите <a class="scrollto" href="#auth-encode-section">Кодирование данных</a></td>
</tr>
                                                <tr>
                                                    <td><span class="label label-default">string</span></td>
                                                    <th>req_hash</th>
                                                    <td>Уникальный ключ запроса авторизации, по которому Вы сможете проверить статус запроса авторизации</td>

                                                </tr>


                                                </tr>

                                                </tbody>
                                            </table>
                                        </div>



                                    </div>

                                </div>


                                <h4 id="req-recieve-section" class="block-title">Response</h4>
                                <div class="section-block">

                                    Ответ от сервера будет с кодом 200, если запрос обработан успешно, в ином случае - смотрите коди ошибок.



                                </div>
                                <div class="row">
                                    <div class="col-md-6">



                                        <div class="col-md-6"><h6>Content-Type:</h6>
                                            <p><code>application/json</code></p></div>
                                        <div class="col-md-6"><h6>Response Code:</h6>
                                            <p><code>200 OK</code></p></div>




                                        <div class="code-block">
                                        <h6>Body response example</h6>

                                        <pre><code class="language-json">{
"data":"YlRyencwNUU0b2NvTXFPUTl5alhheXlpZnhoTVNqZFhSVWJYd.29OakpvYmFkajZTYjdTejdOR2Vicnp4dDN2WC51MoZQEoQAwnbw2RGb6Dvq"
}</code></pre>



                                    </div><!--//code-block-->
                                        <div class="code-block">
                                            <h6><span class="label label-success">data</span> decoded json example</h6>

                                            <pre><code class="language-json">{
"answered":true,
"answer":true,
"response_code":200,
"response_message":"Ok message!",
"response_dt":1234567,
}</code></pre>



                                        </div><!--//code-block-->

                                    </div>
                                    <div class="col-md-6">


                                        <div class="table-responsive">
                                            <table class="table">
                                                <thead>
                                                <tr>
                                                    <th>Type</th>
                                                    <th>Param</th>
                                                    <th>Description</th>

                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr>
                                                    <td><span class="label label-default">string</span></td>
                                                    <th>data</th>
                                                    <td>Уже закодированная строка с сообщением. Что бы её раскодировать смотрите <a class="scrollto" href="#auth-decode-section">Раскодирование данных</a></td>

                                                </tr>
                                                <tr>
                                                    <td><span class="label label-default">boolean</span></td>
                                                    <th>answered</th>
                                                    <td>Статус получение ответа от клиента, <span class="label label-success">true</span> - ответ получен, <span class="label label-success">false</span> - ответ не получен</td>

                                                </tr>
                                                <tr>
                                                    <td><span class="label label-default">boolean</span></td>
                                                    <th>answer</th>
                                                    <td>Результат ответа запроса на авторизацию, <span class="label label-success">true</span> - пользователь подтвердил вход, <span class="label label-success">false</span> - вход отменён</td>

                                                </tr>
                                                <tr>
                                                    <td><span class="label label-default">integer</span></td>
                                                    <th>response_code</th>
                                                    <td>Код ответа запроса на авторизацию</td>

                                                </tr>
                                                <tr>
                                                    <td><span class="label label-default">string</span></td>
                                                    <th>response_message</th>
                                                    <td>Сообщение, которое содержит объяснение запроса авторизации</td>

                                                </tr>
                                                <tr>
                                                    <td><span class="label label-default">integer</span></td>
                                                    <th>response_dt</th>
                                                    <td>Время, когда получен ответ от клиента на запрос авторизации. Формат <span class="label label-success">UNIX_TIMESTAMP</span></td>

                                                </tr>

                                                </tbody>
                                            </table>
                                        </div>



                                    </div>










                                </div>






                            </div>




                            <div class="row">
                                <div id="security-section" class="section-block">
                                    <h2 class="block-title">Безопасность</h2>
                                    <div class="section-block">
                                        Данные от Вашего сервера к серверу PushAuth передаются в закрытом виде, через TLS, используя HMAC подпись с SHA-256.
                                        Позаботьтесь о надёжном хранении Ваших Приватного ключа.

                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div id="errors-section" class="section-block">
                                    <h2 class="block-title">Коды ошибок</h2>
                                    <div class="section-block">
                                        В данном разделе описываются основные коды ошибок, при запросах. Если код 4xx или 5xx, то скорее всего будет присутствовать json значения: <span class="label label-success">status_code</span> и <span class="label label-success">message</span>.

                                    </div>



                                    <div class="table-responsive">
                                        <table class="table">
                                            <thead>
                                            <tr>
                                                <th>Code</th>
                                                <th>Description</th>

                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <th>200 OK</th>
                                                <td>Успешно обработан запрос.</td>

                                            </tr>
                                            <tr>
                                                <th>403 Access Denied</th>
                                                <td>Доступ запрещён, возможно пользователь или устройство заблокированы</td>

                                            </tr>
                                            <tr>
                                                <th>404 Not Found</th>
                                                <td>Не найдено</td>

                                            </tr>
                                            <tr>
                                                <th>405 Method Not Allowed</th>
                                                <td>Запрос послан не тем методом (POST/GET/PATCH/DELETE)</td>

                                            </tr>
                                            <tr>
                                                <th>422 Unprocessable Entity</th>
                                                <td>Ошибка в параметре запроса</td>

                                            </tr>
                                            <tr>
                                                <th>500 Internal Server Error</th>
                                                <td>Ошибка на сервере</td>

                                            </tr>


                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                            </div>


<div class="row">
    <div id="lib-section" class="section-block">
        <h2 class="block-title">Библиотеки</h2>
        <div class="section-block">
            В данном разделе собраны библиотеки, готовые к применению, для различных фреймворков и языков программирования.
            Присоединяйтесь к нашему проекту, разрабатывайте библиотеки.
        </div>
        <h4 id="lib-php-section" class="block-title">PHP</h4>
        <div class="section-block">
            <a class="btn btn-cta btn-primary" href="https://wrapbootstrap.com/theme/admin-appkit-admin-theme-angularjs-WB051SCJ1?ref=3wm" target="_blank"><i class="fa fa-eye"></i> Download</a>


            <div class="code-block">
                <h6>Example</h6>

                <pre><code class="language-php">use PushAuth\PushAuth;

//Setting your Public & Private keys
$authRequest = new PushAuth('publicKey', 'privateKey');

//Send Push request to your client device
$request = $authRequest->to('client@yourfirm.com')
                       ->mode('code')
                       ->code('123-456')
                       ->response(false)
                       ->send();

//show request hash
print_r($request);
// will return Request Hash

//show your client answer
print_r($authRequest->isAccept());
// will return true/false or null if answer not received

//Show push request information
print_r($authRequest->requestStatus('PushRequestCode'));
/*
will return array:
['answer'=>true,
'response_dt'=>'Time....',
'response_code'=>200,
'response_message'=>'Success answer received']
*/
                </code></pre>



            </div><!--//code-block-->



            </div>




    </div>
</div>

</section>
                    </div><!--//section-block-->


                </div><!--//doc-content-->
                <div class="doc-sidebar hidden-xs">
                    <nav id="doc-nav">
                        <ul id="doc-menu" class="nav doc-menu" data-spy="affix">

                            <li>
                                <a class="scrollto" href="#auth-section">Запрос на авторизацию</a>
                                <ul class="nav doc-sub-menu">
                                    <li><a class="scrollto" href="#auth-send-section">Отправка запроса</a></li>
                                    <li><a class="scrollto" href="#auth-encode-section">Кодирование данных</a></li>
                                    <li><a class="scrollto" href="#auth-recieve-section">Получение ответа</a></li>
                                    <li><a class="scrollto" href="#auth-decode-section">Раскодирование данных</a></li>

                                </ul><!--//nav-->
                            </li>

                            <li>
                                <a class="scrollto" href="#req-section">Проверка статуса запроса</a>
                                <ul class="nav doc-sub-menu">
                                    <li><a class="scrollto" href="#req-send-section">Отправка запроса</a></li>
                                    <li><a class="scrollto" href="#req-recieve-section">Получение ответа</a></li>

                                </ul><!--//nav-->
                            </li>

                            <li><a class="scrollto" href="#security-section">Безопасность устройства</a></li>
                            <li><a class="scrollto" href="#errors-section">Коды ошибок</a></li>

                            <li>
                                <a class="scrollto" href="#lib-section">Библиотеки</a>
                                <ul class="nav doc-sub-menu">
                                    <li><a class="scrollto" href="#lib-php-section">PHP</a></li>
                                    <li><a class="scrollto" href="#req-recieve-section">Java</a></li>
                                    <li><a class="scrollto" href="#req-recieve-section">C++</a></li>
                                    <li><a class="scrollto" href="#req-recieve-section">Python</a></li>

                                </ul><!--//nav-->
                            </li>

                        </ul><!--//doc-menu-->
                    </nav>
                </div><!--//doc-sidebar-->
            </div><!--//doc-body-->
        </div><!--//container-->
    </div><!--//doc-wrapper-->

    <div id="promo-block" class="promo-block">
        <div class="container">
            <div class="promo-block-inner">
                <h3 class="promo-title text-center"><i class="fa fa-heart"></i> PushAuth - приложение, которое помогает людям не помнить пароли.</h3>
                <div class="row">
                    
                    <div class="content-holder col-md-12">
                        <div class="content-holder-inner">
                            <div class="desc">
                                <h4 class="content-title"><strong>Есть вопросы или нашли ошибку?</strong></h4>
                                <p>Я всегда готов помочь, пишите мне: info@snisar.com or Skype: rustem_ck</p>
                            </div><!--//desc-->
                            <div class="author"><a href="http://snisar.com">Y.Snisar</a></div>
                        </div><!--//content-holder-inner-->
                    </div><!--//content-holder-->
                </div><!--//row-->
            </div><!--//promo-block-inner-->
        </div><!--//container-->
    </div><!--//promo-block-->

</div><!--//page-wrapper-->

<footer id="footer" class="footer text-center">
    <div class="container">
        <!--/* This template is released under the Creative Commons Attribution 3.0 License. Please keep the attribution link below when using for your own project. Thank you for your support. :) If you'd like to use the template without the attribution, you can check out other license options via our website: themes.3rdwavemedia.com */-->
        <small class="copyright">Documented with <i class="fa fa-heart"></i> by <a href="№" targe="_blank">Y.Snisar</a> for developers</small>

    </div><!--//container-->
</footer><!--//footer-->


<!-- Main Javascript -->
<script type="text/javascript" src="assets/plugins/jquery-1.12.3.min.js"></script>
<script type="text/javascript" src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="assets/plugins/prism/prism.js"></script>
<script type="text/javascript" src="assets/plugins/jquery-scrollTo/jquery.scrollTo.min.js"></script>
<script type="text/javascript" src="assets/plugins/jquery-match-height/jquery.matchHeight-min.js"></script>
<script type="text/javascript" src="assets/js/main.js"></script>

</body>
</html> 

